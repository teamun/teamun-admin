<div id="page-wrapper">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">动态列表</h1>
    </div>
    <!-- /.col-lg-12 -->
  </div>
    <!-- /.row -->
  <div class="row">
    <div class="col-lg-12">
      <p>
        <a href="#" ui-sref="admin.official-action-add" class="btn btn-primary">添加动态</a>
      </p>
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="form-group">
            <input class="form-control" ng-model="query" placeholder="过滤所有字段">
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
              <thead>
                <tr>
                  <th>标题</th>
                  <th>发起单位</th>
                  <th>类型</th>
                  <th>状态</th>
                  <th>创建时间</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr class="odd gradeX" ng-repeat="item in list.data.actions | filter: query ">
                  <td>{{item.title}}</td>
                  <td>{{item.source}}</td>
                  <td>{{item.type === 0 ? '资讯' : '招募'}}</td>
                  <td>{{item.status === 0 ? '待发布' : '已发布'}}</td>
                  <td>{{item.meta.createAt | date:"yyyy-MM-dd HH:mm:ss" }}</td>
                  <td>
                    <a class="btn btn-default btn-sm" ui-sref="admin.official-action-detail({ action_id: item._id })">详细</a>
                    <a class="btn btn-default btn-sm" href="javascript:void(0);" ng-click="removeAction(item);">删除</a>
                  </td>
                </tr>
              </tbody>
            </table>
            <bgf-pagination 
              page="page" 
              per-page="perPage" 
              client-limit="clientLimit" 
              url="'api/admin/official-actions'" 
              url-params="urlParams" 
              link-group-size="2" 
              collection="list" 
              template-url="/views/tpl/paginate-anything.html">
            </bgf-pagination>
          </div>
            <!-- /.table-responsive -->
        </div>
        <!-- /.panel-body -->
      </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
  </div>
</div>
<!-- /#page-wrapper -->
